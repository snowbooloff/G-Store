import{d as y,o as u,a as h,F as D,s as N,E as T,P as B,t as S,n as M,b as w,Q as j,u as O,v as F,c as I,r as Y,K as q,w as k,e as o,f as L,j as _,h as x,C as W,y as U,l as H,p as J,m as K,R as Q,S as X,A as Z,z as ee}from"./vendor-8bbb4221.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";const te="modulepreload",ae=function(e){return"/G-Store/"+e},V={},f=function(s,a,t){if(!a||a.length===0)return s();const d=document.getElementsByTagName("link");return Promise.all(a.map(r=>{if(r=ae(r),r in V)return;V[r]=!0;const g=r.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(!!t)for(let n=d.length-1;n>=0;n--){const m=d[n];if(m.href===r&&(!g||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${v}`))return;const c=document.createElement("link");if(c.rel=g?"stylesheet":te,g||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),g)return new Promise((n,m)=>{c.addEventListener("load",n),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>s())},ne="3473d1d225fa41769c47598328ed3d20",se={class:"items-list"},oe=y({__name:"ItemsList",props:{itemsList:null},setup(e){return(s,a)=>(u(),h("div",se,[(u(!0),h(D,null,N(e.itemsList,t=>T(s.$slots,"item",{item:t,key:t.id},void 0,!0)),128))]))}});const C=b(oe,[["__scopeId","data-v-a07edc38"]]),re=y({__name:"MetacriticScore",props:{score:null},setup(e){return(s,a)=>e.score?(u(),h("p",{key:0,class:M(["metacritic-store",{"metacritic-store_green":e.score>=70,"metacritic-store_yellow":e.score<=70&&e.score>=40,"metacritic-store_red":e.score<40}])},[T(s.$slots,"default",{},void 0,!0),B(" "+S(e.score),1)],2)):w("",!0)}});const ie=b(re,[["__scopeId","data-v-60a0a419"]]),le={class:"game-platforms flex flex_align-center"},ce=y({__name:"GamePlatforms",props:{platforms:null},setup(e){const s=e,a=F(),t=q();let{setPlatform:d}=a.name=="explore"?j("setPlatforms"):"";function r(p,c){a.name!="explore"?t.push({path:"/explore",query:{platforms:JSON.stringify([p]),title:c+" Games"}}):d(p)}const g=["PC","PlayStation","Xbox","Android","iOS","Nintendo"],v=s.platforms.filter(p=>g.includes(p.platform.name));return(p,c)=>(u(),h("div",le,[(u(!0),h(D,null,N(O(v),n=>(u(),I(Y(`icon-${n.platform.name.toLowerCase()}`),{key:n.platform.id,class:"game-platforms__icon cursor-pointer",onClick:m=>r(n.platform.id,n.platform.name)},null,8,["onClick"]))),128))]))}});const me=b(ce,[["__scopeId","data-v-dd574db0"]]),_e={class:"game-title__header"},ue=y({__name:"GameTitle",props:{gameId:null,gameName:null},setup(e){return(s,a)=>{const t=L("router-link");return u(),I(t,{to:`/game/${e.gameId}`,class:"game-title",title:e.gameName},{default:k(()=>[o("h3",_e,S(e.gameName),1)]),_:1},8,["to","title"])}}});const de=b(ue,[["__scopeId","data-v-e56b4591"]]),ge={class:"game-item"},pe={class:"game-nav-bar flex flex_column"},he={class:"game-info flex flex_align-center"},fe={class:"game-nav-bar__buttons buttons-block flex"},ve=y({__name:"GameItem",props:{game:null},setup(e){return(s,a)=>{const t=L("v-lazy-image"),d=L("v-price-button"),r=L("v-like-button");return u(),h("article",ge,[_(t,{class:"game-item__pic cursor-pointer",alt:e.game.name,imgSrc:e.game.background_image,gameId:e.game.id,onClick:a[0]||(a[0]=g=>s.$router.push(`/game/${e.game.id}`))},null,8,["alt","imgSrc","gameId"]),o("div",pe,[o("div",he,[_(me,{class:"game-info__platform",platforms:e.game.parent_platforms},null,8,["platforms"]),_(ie,{class:"game-info__score",score:e.game.metacritic},null,8,["score"])]),_(de,{class:"game-nav-bar__title",gameId:e.game.id,gameName:e.game.name},null,8,["gameId","gameName"]),o("nav",fe,[_(d,{class:"buttons-block__price-bttn",price:e.game.suggestions_count/10,gameName:e.game.name,gameId:e.game.id},null,8,["price","gameName","gameId"]),_(r,{class:"buttons-block__like-bttn",gameId:e.game.id,gameName:e.game.name},null,8,["gameId","gameName"])])])])}}});const P=b(ve,[["__scopeId","data-v-69748fb6"]]),ye={class:"genre-item flex flex_justify-center flex_align-center cursor-pointer"},be={class:"genre-item__title main-white cursor-pointer"},$e=y({__name:"GenreItem",props:{genre:null},setup(e){return(s,a)=>{const t=L("v-lazy-image");return u(),h("article",ye,[_(t,{class:"genre-item__pic",imgSrc:e.genre.image_background,alt:e.genre.name},null,8,["imgSrc","alt"]),o("h2",be,S(e.genre.name),1)])}}});const xe=b($e,[["__scopeId","data-v-853f8e61"]]),Le={class:"game-board cursor-pointer"},ke={class:"game-board__info"},Ie={class:"game-board__name main-white"},Se=y({__name:"GameBoard",props:{game:null},setup(e){return(s,a)=>{const t=L("v-lazy-image");return u(),h("article",Le,[_(t,{class:"game-board__img",imgSrc:e.game.background_image,alt:e.game.name,gameId:e.game.id},null,8,["imgSrc","alt","gameId"]),o("div",ke,[o("h1",Ie,S(e.game.name),1),(u(!0),h(D,null,N(e.game.genres,d=>(u(),h("h3",{class:"game-board__genres second-white",key:d.name},S(d.name),1))),128))])])}}});const R=b(Se,[["__scopeId","data-v-8f58e42f"]]);function E(e,{date:s,size:a,sort:t,search:d,platforms:r=[],rating:g,tags:v=[],genres:p=[]}){const c=x([]),n=x(0);return(async()=>{try{const i=await W.get("https://api.rawg.io/api/games?",{params:{page:e,dates:s,page_size:a,ordering:t,metacritic:g.join(","),parent_platforms:r.join(",")||"1,2,3,4,7,8",tags:v.join(",")||null,genres:p.join(",")||null,search:d,exclude_additions:!0,search_precise:!0,key:ne}});c.value=i.data.results,n.value=i.data.count}catch(i){console.warn(i),z.push("/error")}})().then(()=>({data:c,totalItemsCount:n}))}const G=e=>(J("data-v-20dd16b2"),e=e(),K(),e),Ce={class:"page-block flex flex_column"},Ee={class:"nav-bar flex flex_space-between flex_align-center"},we=G(()=>o("h1",{class:"nav-bar__title main-white"},"New Releases",-1)),De={class:"page-block flex flex_column"},Ge={class:"nav-bar flex flex_space-between flex_align-center"},Pe=G(()=>o("h1",{class:"nav-bar__title main-white"},"Coming Soon",-1)),Re={class:"page-block flex flex_column"},Ne={class:"nav-bar flex flex_space-between flex_align-center"},Ae=G(()=>o("h1",{class:"nav-bar__title main-white"},"Highest rating",-1)),Ve={class:"page-block flex flex_column"},Te=G(()=>o("h1",{class:"page-block__title main-white"},"Genres",-1)),Oe=y({__name:"DiscoverView",setup(e){const s=H(),a=new Date,t={previousYear:a.getFullYear()-1,year:a.getFullYear(),nextYear:a.getFullYear()+1,month:`${a.getMonth()+1}`.length==1?`0${a.getMonth()+1}`:a.getMonth()+1,day:`${a.getDate()}`.length==1?`0${a.getDate()}`:a.getDate()},d=`${t.previousYear}-${t.month}-${t.day},${t.year}-${t.month}-${t.day}`,r=`${t.year}-${t.month}-${t.day},${t.nextYear}-${t.month}-${t.day}`,g=Math.floor(Math.random()*10)+1,v=x([]),p=x([]),c=x([]),n=x([]);return U(()=>{s.commit("loading/setLoading",!0);const m=E(1,{date:d,size:8,sort:"-released",rating:[10,100]}).then(({data:$})=>{v.value=$.value}),i=E(1,{date:r,size:8,sort:"-added",rating:["-"]}).then(({data:$})=>{p.value=$.value}),l=E(1,{date:"",size:8,sort:"-metacritic",rating:[10,96]}).then(({data:$})=>{c.value=$.value}),A=E(g,{date:"",size:3,platforms:[""],rating:[10,100]}).then(({data:$})=>{n.value=$.value});Promise.all([m,i,l,A]).then(()=>{s.commit("loading/setLoading",!1)})}),(m,i)=>(u(),h(D,null,[n.value.length?(u(),I(R,{key:0,game:n.value[0],onClick:i[0]||(i[0]=l=>m.$router.push(`/game/${n.value[0].id}`))},null,8,["game"])):w("",!0),o("section",Ce,[o("div",Ee,[we,o("button",{class:"nav-bar__bttn bttn bttn_transparent",onClick:i[1]||(i[1]=l=>m.$router.push({path:"/explore",query:{sort:"-released",title:"New Releases"}}))}," VIEW ALL + ")]),_(C,{class:"game-list",itemsList:v.value},{item:k(l=>[_(P,{game:l.item},null,8,["game"])]),_:1},8,["itemsList"])]),n.value.length?(u(),I(R,{key:1,game:n.value[1],onClick:i[2]||(i[2]=l=>m.$router.push(`/game/${n.value[1].id}`))},null,8,["game"])):w("",!0),o("section",De,[o("div",Ge,[Pe,o("button",{class:"nav-bar__bttn bttn bttn_transparent",onClick:i[3]||(i[3]=l=>m.$router.push({path:"/explore",query:{date:r,rating:JSON.stringify([0,100]),title:"Coming Soon"}}))}," VIEW ALL + ")]),_(C,{class:"game-list",itemsList:p.value},{item:k(l=>[_(P,{game:l.item},null,8,["game"])]),_:1},8,["itemsList"])]),n.value.length?(u(),I(R,{key:2,game:n.value[2],onClick:i[4]||(i[4]=l=>m.$router.push(`/game/${n.value[2].id}`))},null,8,["game"])):w("",!0),o("section",Re,[o("div",Ne,[Ae,o("button",{class:"nav-bar__bttn bttn bttn_transparent",onClick:i[5]||(i[5]=l=>m.$router.push({path:"/explore",query:{sort:"-metacritic",title:"Highest Rating Games"}}))}," VIEW ALL + ")]),_(C,{class:"game-list",itemsList:c.value},{item:k(l=>[_(P,{game:l.item},null,8,["game"])]),_:1},8,["itemsList"])]),o("section",Ve,[Te,_(C,{class:"genre-list",itemsList:O(s).state.genres.genresList},{item:k(l=>[_(xe,{genre:l.item,onClick:A=>m.$router.push({path:"/explore",query:{genres:JSON.stringify([l.item.id]),title:`${l.item.name} Games`}})},null,8,["genre","onClick"])]),_:1},8,["itemsList"])])],64))}});const ze=b(Oe,[["__scopeId","data-v-20dd16b2"]]),z=Q({history:X("/G-Store/"),routes:[{path:"/",name:"discover",component:ze,meta:{layout:"DefaultLayout"}},{path:"/explore",name:"explore",component:()=>f(()=>import("./ExploreView-3b0329bd.js"),["assets/ExploreView-3b0329bd.js","assets/vendor-8bbb4221.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/ExploreView-49b9b6af.css"]),meta:{layout:"DefaultLayout"}},{path:"/favorites",name:"favorites",component:()=>f(()=>import("./FavoritesView-6070e3f6.js"),["assets/FavoritesView-6070e3f6.js","assets/NavBarForEmpty-1967f09a.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/vendor-8bbb4221.js","assets/NavBarForEmpty-062ece9c.css","assets/fetchGameDetails-d297a9da.js","assets/index-770713f3.js"]),meta:{layout:"DefaultLayout"}},{path:"/shopping",name:"shopping",component:()=>f(()=>import("./ShoppingView-ab784cee.js"),["assets/ShoppingView-ab784cee.js","assets/vendor-8bbb4221.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/NavBarForEmpty-1967f09a.js","assets/NavBarForEmpty-062ece9c.css","assets/fetchGameDetails-d297a9da.js","assets/index-770713f3.js","assets/ShoppingView-5db759b3.css"]),meta:{layout:"DefaultLayout"}},{path:"/register",name:"register",component:()=>f(()=>import("./RegisterView-bf0f04a4.js"),["assets/RegisterView-bf0f04a4.js","assets/vendor-8bbb4221.js","assets/correctErrorText-1822bb20.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/RegisterView-1d4dc199.css"]),meta:{layout:"AuthLayout",access:"no auth"}},{path:"/login",name:"login",component:()=>f(()=>import("./LoginView-3f608447.js"),["assets/LoginView-3f608447.js","assets/vendor-8bbb4221.js","assets/correctErrorText-1822bb20.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/LoginView-c87630a8.css"]),meta:{layout:"AuthLayout",access:"no auth"}},{path:"/reset",name:"reset",component:()=>f(()=>import("./ResetView-d029ba56.js"),["assets/ResetView-d029ba56.js","assets/vendor-8bbb4221.js","assets/correctErrorText-1822bb20.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/ResetView-c9739d8f.css"]),meta:{layout:"AuthLayout",access:"no auth"}},{path:"/user",name:"user",component:()=>f(()=>import("./UserView-8125bced.js"),["assets/UserView-8125bced.js","assets/vendor-8bbb4221.js","assets/UserAvatar-1886d49c.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/UserAvatar-9edc3537.css","assets/correctErrorText-1822bb20.js","assets/UserView-c7e19a29.css"]),meta:{layout:"UserLayout",access:"auth only"}},{path:"/game/:id",name:"game",component:()=>f(()=>import("./GameView-a76317dc.js"),["assets/GameView-a76317dc.js","assets/fetchGameDetails-d297a9da.js","assets/vendor-8bbb4221.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/GameView-233a86ab.css"]),meta:{layout:"DefaultLayout"}},{path:"/:pathMatch(.*)*",name:"pageNotFound",component:()=>f(()=>import("./ErrorView-c5942e75.js"),["assets/ErrorView-c5942e75.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/vendor-8bbb4221.js","assets/ErrorView-e33a570e.css"]),meta:{layout:"DefaultLayout"}}]});function Be(){return new Promise((e,s)=>{Z(ee(),a=>e(a),s)})}z.beforeEach(async(e,s,a)=>{const t=await Be(),d=e.meta.access=="auth only"&&!t,r=e.meta.access=="no auth"&&t;d||r?a({name:"discover"}):a()});export{P as G,C as I,ie as M,f as _,de as a,me as b,E as f,ne as k,z as r};
